<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart with UPI Payment</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; }
    .cart-container { width: 60%; margin: auto; background: white; padding: 20px; border-radius: 10px; }
    h2 { text-align: center; }
    .item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
    .total { font-weight: bold; font-size: 18px; margin-top: 10px; }
    button { padding: 10px 20px; background: green; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: darkgreen; }
    .qr-section { text-align: center; margin-top: 20px; }
</style>
</head>
<body>

<div class="cart-container">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <p class="total" id="total-price">Total: ₹0</p>
    <button onclick="placeOrder()">Place Order</button>

    <div class="qr-section" id="qr-section" style="display:none;">
        <h3>Scan to Pay</h3>
        <img id="qrCode" width="200">
        <p><b>UPI ID:</b> 9582420851@yapl</p>
    </div>
</div>

<script>
let cart = [
    { name: "Arduino Uno R3", price: 1100, qty: 2 },
    { name: "Raspberry Pi 4", price: 4200, qty: 1 }
];

function renderCart() {
    let container = document.getElementById("cart-items");
    container.innerHTML = "";
    let total = 0;

    cart.forEach(item => {
        let div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `<span>${item.name} (x${item.qty})</span> <span>₹${item.price * item.qty}</span>`;
        container.appendChild(div);
        total += item.price * item.qty;
    });

    document.getElementById("total-price").textContent = `Total: ₹${total}`;
    return total;
}

function generateQR(amount) {
    let upiID = "9582420851@yapl";
    let name = "Digivolt Store";
    let upiLink = `upi://pay?pa=${upiID}&pn=${encodeURIComponent(name)}&am=${amount}&cu=INR`;
    let qrURL = `https://chart.googleapis.com/chart?cht=qr&chs=250x250&chl=${encodeURIComponent(upiLink)}`;
    document.getElementById("qrCode").src = qrURL;
}

function placeOrder() {
    let totalAmount = renderCart();
    generateQR(totalAmount);
    document.getElementById("qr-section").style.display = "block";
}

// Initial render
renderCart();
</script>

</body>
</html>
