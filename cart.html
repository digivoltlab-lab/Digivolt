<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Cart - Digivolt</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
    header { background: #4facfe; color: white; padding: 20px; text-align: center; }
    h1 { margin: 0; }
    .container { max-width: 800px; margin: auto; padding: 20px; }
    .item { background: white; padding: 10px; margin-bottom: 10px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
    .total { font-size: 1.2em; font-weight: bold; margin-top: 20px; }
    .btn-del { background: red; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
    .btn-del:hover { background: darkred; }
    .btn-order { background: green; color: white; padding: 10px 20px; font-size: 1em; border: none; border-radius: 5px; cursor: pointer; margin-top: 20px; display: block; }
    .btn-order:hover { background: darkgreen; }
    .qr-section { margin-top: 30px; text-align: center; display: none; }
    .qr-section img { width: 200px; height: 200px; }
    .qr-section p { font-size: 1.1em; font-weight: bold; }
</style>
</head>
<body>
<header>
    <h1>Your Cart</h1>
</header>
<div class="container" id="cart-container"></div>

<button class="btn-order" id="order-btn" style="display:none;" onclick="placeOrder()">Place Order</button>

<div class="qr-section" id="payment-section">
    <p>Scan this QR code to make payment</p>
    <img src="payment-qr.png" alt="Payment QR Code">
</div>

<script>
function renderCart() {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let container = document.getElementById('cart-container');
    let orderBtn = document.getElementById('order-btn');
    container.innerHTML = ""; 
    let total = 0;

    if (cart.length === 0) {
        container.innerHTML = "<p>Your cart is empty.</p>";
        orderBtn.style.display = "none";
        return;
    }

    cart.forEach((item, index) => {
        let itemTotal = item.price * item.quantity;
        total += itemTotal;

        let div = document.createElement('div');
        div.classList.add('item');
        div.innerHTML = `
            <span>${item.name} (x${item.quantity}) - ₹${itemTotal}</span>
            <button class="btn-del" onclick="deleteItem(${index})">Delete</button>
        `;
        container.appendChild(div);
    });

    let totalDiv = document.createElement('div');
    totalDiv.classList.add('total');
    totalDiv.innerText = `Total: ₹${total}`;
    container.appendChild(totalDiv);

    // Agar cart me kuch hai to Place Order button dikhaye
    orderBtn.style.display = "block";
}

function deleteItem(index) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.splice(index, 1); 
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart(); 
}

function placeOrder() {
    document.getElementById('payment-section').style.display = "block";
    document.getElementById('order-btn').style.display = "none";
}

renderCart();
</script>
</body>
</html>
