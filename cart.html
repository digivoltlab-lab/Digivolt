<!DOCTYPE html>
<html>
<head>
    <title>Your Cart</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f5f5f5; }
        .cart-container {
            width: 60%; margin: 30px auto; background: white; padding: 20px;
            border-radius: 10px; box-shadow: 0px 0px 10px #ccc;
        }
        h2 { text-align: center; }
        .cart-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #ddd; }
        .cart-item button {
            background: red; color: white; border: none; padding: 5px 8px;
            cursor: pointer; border-radius: 4px;
        }
        .total { font-weight: bold; font-size: 18px; margin-top: 10px; }
        .place-order {
            background: green; color: white; border: none; padding: 10px 15px;
            font-size: 16px; border-radius: 5px; cursor: pointer; margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="cart-container">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <div class="total" id="total-price">Total: â‚¹0</div>
    <button class="place-order" onclick="placeOrder()">Place Order</button>
</div>

<script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function renderCart() {
        let cartItemsDiv = document.getElementById("cart-items");
        let totalPrice = 0;
        cartItemsDiv.innerHTML = "";

        cart.forEach((item, index) => {
            let itemDiv = document.createElement("div");
            itemDiv.classList.add("cart-item");

            let name = document.createElement("span");
            name.textContent = `${item.name} (x${item.quantity})`;

            let price = document.createElement("span");
            price.textContent = `â‚¹${item.price * item.quantity}`;
            totalPrice += item.price * item.quantity;

            let delBtn = document.createElement("button");
            delBtn.textContent = "Delete";
            delBtn.onclick = () => {
                cart.splice(index, 1);
                localStorage.setItem("cart", JSON.stringify(cart));
                renderCart();
            };

            itemDiv.appendChild(name);
            itemDiv.appendChild(price);
            itemDiv.appendChild(delBtn);
            cartItemsDiv.appendChild(itemDiv);
        });

        document.getElementById("total-price").textContent = `Total: â‚¹${totalPrice}`;
        return totalPrice;
    }

    function sendWhatsAppOrder(totalAmount) {
        let phoneNumber = "919582420851"; // WhatsApp number (+91 without +)
        let message = "ðŸ›’ *New Order Details:*\n\n";
        cart.forEach(item => {
            message += `â€¢ ${item.name} (x${item.quantity}) - â‚¹${item.price * item.quantity}\n`;
        });
        message += `\nðŸ’° *Total:* â‚¹${totalAmount}`;
        let whatsappLink = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
        window.open(whatsappLink, "_blank");
    }

    function placeOrder() {
        let totalAmount = renderCart();
        if (totalAmount > 0) {
            sendWhatsAppOrder(totalAmount);

            let thankYou = document.createElement("h3");
            thankYou.style.textAlign = "center";
            thankYou.style.marginTop = "20px";
            thankYou.style.color = "green";
            thankYou.textContent = "Thank You for Shopping!";
            document.querySelector(".cart-container").appendChild(thankYou);
        } else {
            alert("Your cart is empty!");
        }
    }

    renderCart();
</script>

</body>
</html>
